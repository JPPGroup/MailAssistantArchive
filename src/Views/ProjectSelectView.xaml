<UserControl x:Class="Jpp.AddIn.MailAssistant.Views.ProjectSelectView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Jpp.AddIn.MailAssistant"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <DataTemplate x:Key="ListTemplate" >
            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="{Binding Code}" FontSize="14"/>
                <TextBlock Grid.Column="1" Text="{Binding Name }" FontSize="14" FontStyle="Italic"/>
            </Grid>

        </DataTemplate>
    </UserControl.Resources>
    <Grid>
        <Border Margin="4"
                BorderBrush="#004b91"
                Background="White"
                BorderThickness="1,1,1,1"
                CornerRadius="8,8,8,8">
            <Border.Effect>
                <DropShadowEffect Color="#004b91" Opacity="0.5" />
            </Border.Effect>
            <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                    <RowDefinition Height="9*"/>
                <RowDefinition Height="1.5*"/>
            </Grid.RowDefinitions>

                <TextBox Grid.Row="0" VerticalContentAlignment="Center" FontSize="18" Margin="10,10,10,0" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.Background>
                            <VisualBrush Stretch="Uniform" AlignmentX="Left" AlignmentY="Top">
                                <VisualBrush.Visual>
                                    <Path Visibility="{Binding SearchBackgroundVisible}" Data="M14.347168,10.755833C11.728134,10.757831 9.4851117,12.741794 9.2120977,15.398752 8.9260993,18.232709 10.994132,20.764682 13.828165,21.055678 16.667186,21.336665 19.195217,19.273692 19.481231,16.439736 19.772234,13.606787 17.709207,11.073821 14.875174,10.782825 14.697163,10.764835 14.521165,10.755833 14.347168,10.755833z M14.30516,7.2708848C14.598162,7.2708848 14.894171,7.2858842 15.192179,7.3158825 19.961233,7.8008755 23.428268,12.058806 22.948267,16.822741 22.77526,18.513709 22.126251,20.034682 21.156238,21.280665L26.967309,28.189572C27.70232,29.062545 27.585313,30.364528 26.712303,31.099532 25.844297,31.829501 24.54228,31.717503 23.806278,30.844531L17.913204,23.838626C16.565197,24.461633 15.028176,24.73763 13.440159,24.579612 8.6700997,24.099639 5.1980586,19.840686 5.683065,15.071761 6.138072,10.605825 9.9091125,7.2748826 14.30516,7.2708848z M14.692173,0C22.806266,-1.0809936E-07 29.389335,6.820895 29.389335,15.230755 29.389335,15.260753 29.384346,15.286753 29.384346,15.311763L31.564365,15.367761C31.748373,15.372751 31.906364,15.490761 31.973365,15.669759 32.03437,15.842746 31.99337,16.042754 31.860372,16.174741L28.13833,19.86069C28.051322,19.947694 27.933324,19.994691 27.81632,19.994691 27.698322,19.988694 27.58632,19.937684 27.50432,19.845691L23.966283,15.960755C23.879278,15.868746 23.838275,15.750751 23.84328,15.628759 23.84328,15.566748 23.853275,15.51075 23.879278,15.454751 23.955282,15.281765 24.119285,15.173764 24.297281,15.173764L26.263307,15.224758C24.946291,9.2008484 20.09023,4.7229198 14.278166,4.7229198 7.4610858,4.7229198 1.9310223,10.884828 1.9310221,18.497704 1.9310223,20.820681 2.4520245,23.011641 3.3660364,24.931626 1.2620082,22.296656 0,18.916703 0,15.230755 0,6.820895 6.5780797,-1.0809936E-07 14.692173,0z" 
                                          Stretch="Uniform" Fill="DarkGray" Width="36" Height="36" Margin="10" />
                                </VisualBrush.Visual>
                            </VisualBrush>
                        </TextBox.Background>
                    </TextBox>
                    <!--<TextBox Grid.Row="0" FontSize="24" VerticalContentAlignment="Center" Text="Search...." />-->
                <ListView SelectionMode="Single" Grid.Row="1" Margin="10,0,10,0" 
                          ItemsSource="{Binding ProjectsView}"  
                          SelectedItem="{Binding SelectedProject}" 
                          ItemTemplate="{StaticResource ListTemplate}"/>
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                    <Button Content="Cancel" Width="75" FontSize="12" VerticalContentAlignment="Center" Command="{Binding CancelCommand}"/>
                    <Button Content="OK" Width="150" FontSize="16" VerticalContentAlignment="Center" Command="{Binding OkCommand}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
